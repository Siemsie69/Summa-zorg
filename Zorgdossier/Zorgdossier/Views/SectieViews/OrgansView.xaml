<UserControl x:Class="Zorgdossier.Views.SectieViews.OrgansView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:local="clr-namespace:Zorgdossier.Views.SectieViews"
             xmlns:sectieviewmodels="clr-namespace:Zorgdossier.ViewModels.SectieViewModels"
             xmlns:viewmodels="clr-namespace:Zorgdossier.ViewModels"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:h="http://helix-toolkit.org/wpf"
             mc:Ignorable="d"
             Name="Organs" MinHeight="450" MaxHeight="450" MinWidth="690" MaxWidth="690" Background="White">
    <d:UserControl.DataContext>
        <sectieviewmodels:OrgansViewModel/>
    </d:UserControl.DataContext>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1*"/>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition Width="1*"/>
        </Grid.ColumnDefinitions>

        <Grid Grid.Row="0" Grid.ColumnSpan="3" HorizontalAlignment="Stretch">
            <StackPanel Grid.Row="0" Grid.ColumnSpan="3" HorizontalAlignment="Left" VerticalAlignment="Top">
                <TextBlock x:Name="OrgansText" Text="Dossiers: Organen Selecteren" FontSize="30" FontWeight="Bold" Foreground="{StaticResource PrimaryBrush}" HorizontalAlignment="Left"/>
                <Rectangle Fill="{StaticResource PrimaryBrush}" Height="3" HorizontalAlignment="Left" Width="{Binding ActualWidth, ElementName=OrgansText}"/>
            </StackPanel>

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,-5,0,0">
                <Button Height="40" Width="60" Background="{StaticResource PrimaryBrush}" Command="{Binding ShowInfoCommand}" Margin="0,0,10,0">
                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                        <materialDesign:PackIcon Kind="InformationOutline" Width="30" Height="30" Foreground="{StaticResource SecondaryBrush}"/>
                    </StackPanel>
                </Button>

                <Button Height="40" Width="60" Background="{StaticResource PrimaryBrush}" Command="{Binding ShowHomeCommand}"
                        Visibility="{Binding IsNotSampleMode,
                        Converter={StaticResource BooleanToVisibilityConverter}}">
                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                        <materialDesign:PackIcon Kind="WindowClose" Width="30" Height="30" Foreground="{StaticResource SecondaryBrush}"/>
                    </StackPanel>
                </Button>
            </StackPanel>
        </Grid>

        <TextBlock Text="Selecteer een of meerdere organen die het meest relevant zijn voor dit dossier, op basis van de klachten en symptomen die de patiënt heeft aangegeven. Als je een orgaan hebt geselecteerd, kun je het toevoegen aan de lijst. Je kunt ook organen verwijderen indien nodig. Elk geselecteerd orgaan heeft een 3D-model waarmee je het van alle kanten kunt bekijken en roteren, zodat je een beter beeld krijgt." 
               FontSize="14" TextWrapping="Wrap" Margin="0,10,10,10" Grid.Row="1" Grid.ColumnSpan="3"/>

        <Grid Grid.Row="2" Grid.ColumnSpan="3">
            <ScrollViewer Width="200" HorizontalAlignment="Left" VerticalAlignment="Top" Height="420" VerticalScrollBarVisibility="Auto">
                <StackPanel Background="#F0F0F0">
                    <ComboBox Name="OrganComboBox" Background="White" 
          Foreground="{StaticResource PrimaryBrush}" 
          BorderBrush="{StaticResource PrimaryBrush}" 
          BorderThickness="1"
          ItemsSource="{Binding AvailableOrgans}" 
          SelectedItem="{Binding SelectedOrgan}" 
          Height="30" Margin="10" 
          materialDesign:HintAssist.Hint="{Binding HintTextOrganChoice}">

                        <ComboBox.ItemContainerStyle>
                            <Style TargetType="ComboBoxItem">
                                <Setter Property="Background" Value="White"/>
                                <Setter Property="Foreground" Value="{StaticResource PrimaryBrush}"/>
                                <Setter Property="Padding" Value="5"/>
                                <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                <Setter Property="VerticalContentAlignment" Value="Center"/>
                            </Style>
                        </ComboBox.ItemContainerStyle>
                    </ComboBox>

                    <Button Command="{Binding AddToListCommand}" 
                            Content="Toevoegen aan Lijst" 
                            Height="30" Margin="10"/>
                    
                    <Button Command="{Binding RemoveFromListCommand}" 
                            Content="Verwijderen" 
                            Height="30" Margin="10"/>
                    
                    <ListBox Name="OrganListBox" 
                             ItemsSource="{Binding SelectedOrgans}" 
                             SelectedItem="{Binding SelectedOrgan}" 
                             Height="auto" Margin="10"/>
                </StackPanel>
            </ScrollViewer>

            <h:HelixViewport3D Name="helixViewport" 
                              ShowCoordinateSystem="True" 
                              Margin="200 0 0 0" 
                              ItemsSource="{Binding ViewportChildren}">
                <h:HelixViewport3D.Camera>
                    <PerspectiveCamera Position="0, -5, 5" LookDirection="0, 0, -1" UpDirection="0, 1, 0" FieldOfView="45" />
                </h:HelixViewport3D.Camera>
            </h:HelixViewport3D>
        </Grid>

        <Grid Grid.Row="3" Grid.ColumnSpan="3">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Button Content="Vorige" FontSize="14" Command="{Binding ShowQuestionsCommand}" Width="200" Height="45" 
                    Background="{StaticResource PrimaryBrush}" Foreground="{StaticResource SecondaryBrush}" 
                    Margin="0,0,5,-4" Grid.Column="0" HorizontalAlignment="Left"/>

            <Button Content="Volgende" FontSize="14" Command="{Binding ShowComplaintsAndSymptomsCommand}" Width="200" Height="45" 
                    Background="{StaticResource PrimaryBrush}" Foreground="{StaticResource SecondaryBrush}" 
                    Margin="0,0,5,-4" Grid.Column="2" HorizontalAlignment="Right"/>

            <Button Height="45" Width="60" Grid.Column="3" HorizontalAlignment="Right"
                    Background="{StaticResource PrimaryBrush}" Command="{Binding ShowFinishProgressCommand}"
                    Visibility="{Binding IsNotSampleMode,
                    Converter={StaticResource BooleanToVisibilityConverter}}" Margin="0,0,0,-4">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                    <materialDesign:PackIcon Kind="FlagCheckered" Width="30" Height="30" Foreground="{StaticResource SecondaryBrush}"/>
                </StackPanel>
            </Button>
        </Grid>
    </Grid>
</UserControl>